<div ng-controller='AuthController'>
  <div class='row'>
      <div class='col-md-10'><h3>ADD A WISHLIST!</h3></div>
      <div class='col-md-2'><button class='btn btn-danger' ng-click='signout()'>Sign Out</button></div>
  </div>

    <!-- Input Field to Add A New Wishlist -->
    <div class='row'>
    <div class="col-lg-6">
      <div class="input-group">
        <form name='addNewWishlist'>
          <input
            type='text',
            name='inputNewWishlist',
            ng-model='data.newWishlistName',
            placeholder="e.g.) Birthday, Christmas",
            class="form-control",
          />
        </form>
        <span class="input-group-btn">
          <button
            type="button",
            class="btn btn-default",
            ng-click="addList()",
          > Add </button>
        </span> <!-- Closing Span input-group-btn -->
      </div> <!-- Closing input-group -->
    </div><!-- Closing col-lg-6" -->

    <br />

    <!-- Search bar: Searches wishlists and items -->
    <input type="text" ng-model="data.searchQuery" placeholder="Search"/>

    <!-- Wishlists -->
    <div name="wishlists" ng-repeat="wishlist in data.wishlists | filter:data.searchQuery " class='well container-fluid'>
      <div ng-click="getAllItems(wishlist); expand = !expand">
        <strong>{{wishlist.name}}</strong>
      </div>
      <i class="fa fa-pencil-square-o" aria-hidden="true" ng-click='renaming = !renaming'></i>
      <i class="fa fa-times" aria-hidden="true" ng-click='deleteList(wishlist)'></i>
      <div ng-show='renaming'>
        <form name='rename'>
          <input
            type='text',
            name='rename',
            ng-model='data.renameList'
          />
          <button type="submit" ng-click="editListName(data.renameList, wishlist)">Rename List</button>
        </form>
      </div> <!-- Closing <div ng-show='renaming'> -->
      <div ng-show="expand">
        <form name='item'>
          <input
            type='text',
            name='item',
            ng-model='data.itemName',
          />
          <i class="fa fa-plus" aria-hidden="true" ng-click="addItem(data.itemName, wishlist)"></i>
        </form>
        <div ng-repeat="item in data.items[wishlist.id]">
          {{item.name}}
          <i class="fa fa-pencil-square-o" aria-hidden="true" ng-click='itemRenaming = !itemRenaming'></i>
            <div ng-show='itemRenaming'>
              <form name='renameItem'>
                <input
                  type='text',
                  name='renameItem',
                  ng-model='data.newItemName'
                />
                <button type="submit" ng-click="editItem(data.newItemName, item.id, wishlist)">Submit</button>
              </form>
            </div> <!-- Closing <div ng-show='itemRenaming'> -->
          <i class="fa fa-times" aria-hidden="true" ng-click='deleteItem(wishlist, item.id)'></i>
        </div> <!-- Closing ng-repeat="item in data.items[wishlist.id]" -->
      </div> <!-- Closing <div ng-show="expand"> -->
  </div>
</div> <!-- Closing row -->
</div>
